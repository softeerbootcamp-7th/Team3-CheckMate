import{j as a}from"./jsx-runtime-u17CrQMm.js";import{P as h}from"./periods-BlCP1VCB.js";import{r as o}from"./iframe-CebIkQcA.js";import{P as g}from"./PeriodSelect-DQT6aMr8.js";import{u as f,n as S}from"./RevenueCalendar-CRnteDWx.js";import{R as x}from"./RefreshControl-D_oABt5W.js";import{S as D}from"./SectionTitle-DUwA7pf7.js";import"./preload-helper-Cv0CY36J.js";import"./DateRangeLabel-BQrNSIKp.js";import"./toggle-group-DUYoxuf0.js";import"./index-C9cP_GGV.js";import"./index-BO5hQCtG.js";import"./index-C9HOMjRH.js";import"./DateRangePicker-D8ON13GP.js";import"./formatDate-2DvkREFH.js";import"./createLucideIcon-CA5t1dbA.js";import"./chevron-right-C6ipH6OX.js";import"./formatNumber-Et9yTxYA.js";function E(e,i){const t=f(),s=t.getQueryCache();return o.useSyncExternalStore(o.useCallback(r=>s.subscribe(S.batchCalls(r)),[s]),()=>t.isFetching(e),()=>t.isFetching(e))}const T=({prefixKey:e,initLastUpdatedNow:i=!0})=>{const t=f(),[s,r]=o.useState(i?new Date:null),p=o.useCallback(()=>r(new Date),[]),l=E({queryKey:e})>0,u=o.useCallback(async()=>{const n=new Date;await t.refetchQueries({queryKey:e,type:"active"},{throwOnError:!0}),r(n)},[t,e]);return{lastUpdatedDate:s,isFetching:l,refresh:u,updateLastUpdatedDateToNow:p}},y=({title:e,description:i,prefixKey:t,initLastUpdatedNow:s,triggerUpdateRefreshDate:r,rightSlot:p})=>{const{lastUpdatedDate:m,isFetching:l,refresh:u,updateLastUpdatedDateToNow:n}=T({prefixKey:t,initLastUpdatedNow:s});return o.useEffect(()=>{r&&n()},[r,n]),a.jsxs("header",{className:"flex justify-between gap-600",children:[a.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[a.jsx(D,{title:e,description:i}),a.jsx(x,{lastUpdatedDate:m,onRefresh:u,isLoading:l})]}),p]})};y.__docgenInfo={description:"",methods:[],displayName:"SectionHeader",props:{title:{required:!0,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},prefixKey:{required:!0,tsType:{name:"QueryKey"},description:""},initLastUpdatedNow:{required:!1,tsType:{name:"boolean"},description:""},triggerUpdateRefreshDate:{required:!1,tsType:{name:"number"},description:""},rightSlot:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const W={title:"components/shared/section-header/SectionHeader",component:y,tags:["autodocs"],parameters:{layout:"centered"},argTypes:{title:{control:"text",defaultValue:"섹션 제목"},description:{control:"text",defaultValue:"섹션에 대한 설명이 들어가는 자리입니다."}}},c={args:{title:"섹션 제목",description:"섹션에 대한 설명이 들어가는 자리입니다.",prefixKey:["sales","overview"]}},d={args:{title:"섹션 제목",description:"섹션에 대한 설명이 들어가는 자리입니다.",prefixKey:["sales","overview"],rightSlot:a.jsx(g,{periodPreset:h.dayWeekMonth,periodType:void 0,setPeriodType:()=>{},setStartDate:()=>{},setEndDate:()=>{}})}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {
    title: '섹션 제목',
    description: '섹션에 대한 설명이 들어가는 자리입니다.',
    prefixKey: ['sales', 'overview']
  }
}`,...c.parameters?.docs?.source}}};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:`{
  args: {
    title: '섹션 제목',
    description: '섹션에 대한 설명이 들어가는 자리입니다.',
    prefixKey: ['sales', 'overview'],
    rightSlot: <PeriodSelect periodPreset={PERIOD_PRESET_KEYS.dayWeekMonth} periodType={undefined} setPeriodType={() => {}} setStartDate={() => {}} setEndDate={() => {}} />
  }
}`,...d.parameters?.docs?.source}}};const H=["Default","WithPeriodSelect"];export{c as Default,d as WithPeriodSelect,H as __namedExportsOrder,W as default};
