import{j as a}from"./jsx-runtime-u17CrQMm.js";import{r as c}from"./iframe-BYnmhMS_.js";import{c as o}from"./periods-BlCP1VCB.js";import{u,n as d,f as l}from"./apiClient-Bxs_PuhS.js";import{B as m}from"./toggle-group-DffW7fGY.js";import{c as h}from"./createLucideIcon-nPFQ87x7.js";const p=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],y=h("refresh-ccw",p);function f(e,s){const t=u(),r=t.getQueryCache();return c.useSyncExternalStore(c.useCallback(n=>r.subscribe(d.batchCalls(n)),[r]),()=>t.isFetching(e),()=>t.isFetching(e))}const x=({prefixKey:e})=>{const s=u(),t=f({queryKey:e,exact:!0})>0,r=c.useMemo(()=>{const i=s.getQueryState(e)?.dataUpdatedAt;return i?new Date(i):null},[s,e,t]),n=c.useCallback(async()=>{await s.refetchQueries({queryKey:e,exact:!0})},[s,e]);return{lastUpdatedDate:r,isFetching:t,refresh:n}},g=({queryKey:e,className:s})=>{const{lastUpdatedDate:t,isFetching:r,refresh:n}=x({prefixKey:e});return a.jsxs("div",{className:o("flex flex-col items-end pb-px",s),children:[a.jsx("div",{className:"bg-grey-100 mt-5 mb-3 h-px w-full px-2"}),a.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[a.jsx("span",{className:"caption-large-medium text-grey-400",children:t?`${l(t)} 업데이트`:"업데이트 시간 정보 없음"}),a.jsx(m,{className:"rounded-unlimit hover:border-grey-900 flex h-fit! items-center justify-center border border-transparent p-0.5!",onClick:n,disabled:r,"aria-label":"데이터 새로고침 버튼",children:a.jsx(y,{className:o("text-grey-400 size-3 rotate-90",r&&"animate-spin")},t?.toString())})]})]})};g.__docgenInfo={description:"",methods:[],displayName:"RefreshedTimeButton",props:{queryKey:{required:!0,tsType:{name:"QueryKey"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};export{g as R};
