import{j as a}from"./jsx-runtime-u17CrQMm.js";import{r as h}from"./iframe-A4TlSksM.js";import{T as K,W as U,S as F,P}from"./lineChartStoryData-DuLhpI9z.js";import{T as z,a as Q,b as Z,c as N,B as w}from"./index-9jgyuMaz.js";import{c as J}from"./periods-BueKGNxC.js";import{g as ee,a as te,Y as ae,X as ne,b as re,c as ie}from"./LineChart-CdNLncS0.js";import{R as I}from"./rankingColors-YVpIGQhO.js";import"./preload-helper-Cv0CY36J.js";import"./index-GF96FoPb.js";import"./index-AluALJEG.js";import"./index-BArpwmPo.js";const M=({series:e})=>Array.isArray(e.data.mainY[0]),v={XAXIS_STROKE_WIDTH:1.5,XAXIS_Y_OFFSET:28,DEFAULT_BAR_COLOR:"#212121",ACTIVATE_BAR_COLOR:"var(--color-brand-500)",BAR_RADIUS:4,ANIMATION_DURATION_MS:500},$={TOP_RANK:3,RANK_COLOR:[I[0],I[1],I[2],I[4]]},oe=({stackBarData:e,barTopY:t,barHeight:n,totalAmount:u})=>[...e].sort((d,s)=>Number(s.amount)-Number(d.amount)).reduce((d,s,r)=>{const i=Number(s.amount)||0;if(r>$.TOP_RANK)return d;const o=t+d.percentage/100*n,m=u>0?r<$.TOP_RANK?Math.round(i/u*100*10)/10:100-d.percentage:0,p=m/100*n;return{percentage:d.percentage+m,barSegmentInfoList:[...d.barSegmentInfoList,{y:o,barHeight:p,percentage:Math.round(m*10)/10,label:r>=$.TOP_RANK?"기타":s.label,color:s.color??$.RANK_COLOR[r]}]}},{percentage:0,barSegmentInfoList:[]}).barSegmentInfoList,se=({tooltipContent:e,label:t,percentage:n,totalAmount:u})=>e?e(t,`${Math.round(n/100*u)}건`,"(",`${n}%`,")"):null,ue=({stackBarData:e})=>e.reduce((t,n)=>t+(Number(n.amount)||0),0),le={color:"var(--color-grey-400)",data:{mainX:[{amount:"월",unit:""},{amount:"화",unit:""},{amount:"수",unit:""},{amount:"목",unit:""},{amount:"금",unit:""},{amount:"토",unit:""},{amount:"일",unit:""}],mainY:[[{amount:45,unit:"건",label:"아메리카노"},{amount:12,unit:"건",label:"카페라떼"},{amount:5,unit:"건",label:"샌드위치"}],[{amount:38,unit:"건",label:"아메리카노"},{amount:22,unit:"건",label:"자몽에이드"},{amount:15,unit:"건",label:"말차라떼"},{amount:7,unit:"건",label:"조각케이크"}],[{amount:5,unit:"건",label:"아메리카노"},{amount:25,unit:"건",label:"카페라떼"},{amount:18,unit:"건",label:"바닐라빈라떼"},{amount:12,unit:"건",label:"베이글"},{amount:8,unit:"건",label:"밀크티"}],[{amount:20,unit:"건",label:"아메리카노"},{amount:5,unit:"건",label:"스무디"}],[{amount:60,unit:"건",label:"아메리카노"},{amount:40,unit:"건",label:"자몽에이드"},{amount:35,unit:"건",label:"조각케이크"},{amount:15,unit:"건",label:"샌드위치"}],[{amount:25,unit:"건",label:"아메리카노"},{amount:50,unit:"건",label:"딸기스무디"},{amount:45,unit:"건",label:"초코와플"},{amount:30,unit:"건",label:"자몽에이드"},{amount:20,unit:"건",label:"바닐라빈라떼"}],[{amount:30,unit:"건",label:"아메리카노"},{amount:30,unit:"건",label:"카페라떼"},{amount:25,unit:"건",label:"말차라떼"},{amount:25,unit:"건",label:"샌드위치"}]]}},H={color:"var(--color-grey-400)",data:{mainX:K,mainY:[[{amount:45,unit:"건",label:"아메리카노"},{amount:12,unit:"건",label:"카페라떼"},{amount:5,unit:"건",label:"샌드위치"}],[{amount:38,unit:"건",label:"아메리카노"},{amount:22,unit:"건",label:"자몽에이드"},{amount:15,unit:"건",label:"말차라떼"},{amount:7,unit:"건",label:"조각케이크"}],[{amount:5,unit:"건",label:"아메리카노"},{amount:25,unit:"건",label:"카페라떼"},{amount:18,unit:"건",label:"바닐라빈라떼"},{amount:12,unit:"건",label:"베이글"},{amount:8,unit:"건",label:"밀크티"}],[{amount:20,unit:"건",label:"아메리카노"},{amount:5,unit:"건",label:"스무디"}],[{amount:60,unit:"건",label:"아메리카노"},{amount:40,unit:"건",label:"자몽에이드"},{amount:35,unit:"건",label:"조각케이크"},{amount:15,unit:"건",label:"샌드위치"}],[{amount:25,unit:"건",label:"아메리카노"},{amount:50,unit:"건",label:"딸기스무디"},{amount:45,unit:"건",label:"초코와플"},{amount:30,unit:"건",label:"자몽에이드"},{amount:20,unit:"건",label:"바닐라빈라떼"}],[{amount:30,unit:"건",label:"아메리카노"},{amount:30,unit:"건",label:"카페라떼"},{amount:25,unit:"건",label:"말차라떼"},{amount:25,unit:"건",label:"샌드위치"}],[{amount:45,unit:"건",label:"아메리카노"},{amount:12,unit:"건",label:"카페라떼"},{amount:5,unit:"건",label:"샌드위치"}],[{amount:38,unit:"건",label:"아메리카노"},{amount:22,unit:"건",label:"자몽에이드"},{amount:15,unit:"건",label:"말차라떼"},{amount:7,unit:"건",label:"조각케이크"}],[{amount:5,unit:"건",label:"아메리카노"},{amount:25,unit:"건",label:"카페라떼"},{amount:18,unit:"건",label:"바닐라빈라떼"},{amount:12,unit:"건",label:"베이글"},{amount:8,unit:"건",label:"밀크티"}],[{amount:20,unit:"건",label:"아메리카노"},{amount:5,unit:"건",label:"스무디"}],[{amount:60,unit:"건",label:"아메리카노"},{amount:40,unit:"건",label:"자몽에이드"},{amount:35,unit:"건",label:"조각케이크"},{amount:15,unit:"건",label:"샌드위치"}]]}},de=()=>{const e=h.useId(),t=h.useId();return{titleId:e,descId:t}},me=({viewBoxWidth:e,viewBoxHeight:t,barChartSeries:n,hasXAxis:u=!1})=>{const[l,d]=h.useState(t),s=h.useRef(null),r=h.useRef(null),i=M({series:n}),o=h.useMemo(()=>n.data.mainX.map(c=>c.amount??""),[n.data.mainX]),m=h.useMemo(()=>n.data.mainX.length===0?[]:ee({svgWidth:e,xDataLength:n.data.mainX.length}),[e,n.data.mainX.length]),p=h.useMemo(()=>{const c=i?n.data.mainY.map(f=>f.reduce((C,_)=>C+(Number(_.amount)||0),0)):n.data.mainY.map(f=>f.amount),T=c.length>0?Math.max(...c.filter(f=>f!==null).map(Number)):10;return Math.ceil(Math.ceil(T*1.5)/10)*10},[n.data.mainY,i]),b=h.useMemo(()=>{if(n.data.mainX.length===0)return[];const c=i?{...n,data:{...n.data,mainY:n.data.mainY.map(T=>({amount:T.reduce((y,f)=>y+(Number(f.amount)||0),0),unit:T[0]?.unit||""}))}}:n;return te({svgWidth:e,adjustedHeight:l,series:c,maximumY:p})},[e,l,n,p,i]);return h.useLayoutEffect(()=>{(()=>{if(!u||!r.current){d(t);return}const T=r.current.getBBox();d(T.y+T.height/2)})()},[u,t]),{svgWidth:e,adjustedHeight:l,xLabelList:o,xCoordinate:m,primaryCoordinate:b,svgRef:s,xAxisRef:r}},ce=({barMiddleX:e,barTopY:t,width:n,height:u,radius:l})=>{const d=t+u,s=e-n/2,r=e+n/2;return{pathD:l?`
      M ${e} ${t}
      H ${s+l}
      Q ${s} ${t} ${s} ${t+l}
      V ${d}
      H ${r}
      V ${t+l}
      Q ${r} ${t} ${r-l} ${t}
      Z
    `:`
      M ${e} ${t}
      H ${s}
      V ${d}
      H ${r}
      V ${t}
      Z
    `}},E=({barRef:e,hasAnimation:t})=>{h.useLayoutEffect(()=>{if(!e||!e.current||!t)return;e.current.style.transform="scaleY(0)";const n=requestAnimationFrame(()=>{e.current&&(e.current.style.transition=`transform ${v.ANIMATION_DURATION_MS}ms ease-out`,e.current.style.transform="scaleY(1)")});return()=>cancelAnimationFrame(n)},[e,t])},pe=({pathRef:e,hasAnimation:t})=>{h.useEffect(()=>{!e.current||!t||(e.current.style.transition=`d ${v.ANIMATION_DURATION_MS}ms ease-in-out`)},[e,t])},D=({barMiddleX:e,barTopY:t,width:n,height:u,radius:l,hasInitAnimation:d=!0,hasMoveAnimation:s=!0,hasGradient:r=!0,activeTooltip:i=!1,tooltipContentText:o,bgColor:m=v.DEFAULT_BAR_COLOR,isActive:p=!1,barColorChangeOnHover:b=!0})=>{const c=h.useRef(null),T=h.useRef(null),y=Math.min(l??0,n/2,u),{pathD:f}=ce({barMiddleX:e,barTopY:t,width:n,height:u,radius:y});E({barRef:T,hasAnimation:d}),pe({pathRef:c,hasAnimation:s});const C=a.jsx("path",{ref:c,d:f,fill:p?v.ACTIVATE_BAR_COLOR:m,className:J(b&&"hover:fill-brand-main"),style:{maskImage:r?"linear-gradient(to top, rgba(0,0,0,0.1), rgba(0,0,0,0.4))":"",WebkitMaskImage:r?"linear-gradient(to top, rgba(0,0,0,0.1), rgba(0,0,0,0.4))":""}});return a.jsx(a.Fragment,{children:a.jsx("g",{ref:T,style:{transformOrigin:`${e}px ${t+u}px`},children:i?a.jsxs(z,{children:[a.jsx(Q,{asChild:!0,children:C}),a.jsx(Z,{side:"left",className:"bg-grey-800 transition-duration-200 px-250! text-gray-50 [&_svg]:invisible",children:o})]}):C})})};D.__docgenInfo={description:"",methods:[],displayName:"Bar",props:{barMiddleX:{required:!0,tsType:{name:"number"},description:""},barTopY:{required:!0,tsType:{name:"number"},description:""},width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},radius:{required:!1,tsType:{name:"number"},description:""},hasInitAnimation:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},hasMoveAnimation:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},hasGradient:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},activeTooltip:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},tooltipContentText:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},isActive:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},bgColor:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"BAR_CHART.DEFAULT_BAR_COLOR",computed:!0}},barColorChangeOnHover:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};const V=({x:e,y:t,label:n,textColor:u="#A2A4A7",offsetY:l=8,fontSize:d=12,textAnchor:s="middle",fontWeight:r=500})=>a.jsx("text",{x:0,y:0,fill:u,textAnchor:s,fontSize:d,fontWeight:r,style:{transform:`translate(${e}px, ${t-l}px)`,transition:`transform ${v.ANIMATION_DURATION_MS}ms ease-in-out`},children:n});V.__docgenInfo={description:"",methods:[],displayName:"BarLabel",props:{x:{required:!0,tsType:{name:"number"},description:""},y:{required:!0,tsType:{name:"number"},description:""},label:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},offsetY:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"8",computed:!1}},textColor:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'#A2A4A7'",computed:!1}},fontSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"12",computed:!1}},textAnchor:{required:!1,tsType:{name:"union",raw:"'start' | 'middle' | 'end'",elements:[{name:"literal",value:"'start'"},{name:"literal",value:"'middle'"},{name:"literal",value:"'end'"}]},description:"",defaultValue:{value:"'middle'",computed:!1}},fontWeight:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"500",computed:!1}}}};const k=({stackBarData:e,barMiddleX:t,barTopY:n,width:u,height:l,radius:d=Math.min(l,u,4),hasAnimation:s=!0,activeTooltip:r=!0,tooltipContent:i})=>{const o=h.useRef(null);E({barRef:o,hasAnimation:s});const m=ue({stackBarData:e}),p=oe({stackBarData:e,barTopY:n,barHeight:l,totalAmount:m});return a.jsx(a.Fragment,{children:a.jsx("g",{ref:o,style:{transformOrigin:`${t}px ${n+l}px`},children:p.map((b,c)=>a.jsx(D,{barMiddleX:t,barTopY:b.y,width:u,height:b.barHeight,bgColor:b.color??"#eee",radius:c===0?d:0,hasInitAnimation:!1,hasMoveAnimation:!0,hasGradient:!1,activeTooltip:r,barColorChangeOnHover:!1,tooltipContentText:se({tooltipContent:i,label:b.label,percentage:b.percentage,totalAmount:m})||""},`${b.label}-${c}`))})})};k.__docgenInfo={description:"",methods:[],displayName:"StackBar",props:{stackBarData:{required:!0,tsType:{name:"Array",elements:[{name:"StackBarSegment"}],raw:"StackBarSegment[]"},description:""},barMiddleX:{required:!0,tsType:{name:"number"},description:""},barTopY:{required:!0,tsType:{name:"number"},description:""},width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},radius:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"Math.min(height, width, 4)",computed:!0}},hasAnimation:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},activeTooltip:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},tooltipContent:{required:!1,tsType:{name:"signature",type:"function",raw:"(...args: string[]) => string",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"args",rest:!0}],return:{name:"string"}}},description:""}}};const W=({coordinate:e,color:t=v.DEFAULT_BAR_COLOR,hasGradient:n=!1,series:u,hasBarLabel:l=!1,hasXAxis:d=!1,viewBoxHeight:s,viewBoxWidth:r,xCoordinate:i,tooltipContent:o,activeTooltip:m,activeDataIndex:p,barColorChangeOnHover:b})=>{const{XAXIS_Y_OFFSET:c,XAXIS_STROKE_WIDTH:T,BAR_RADIUS:y}=v,f=M({series:u}),C=({y:A,hasXAxis:x,viewBoxHeight:g})=>x?g-c-A-T/2:g-A,_=({viewBoxWidth:A,xCoordinate:x})=>A/x.length*.5,L=({index:A,series:x})=>{if(f){const g=x.data.mainY[A],B=g.reduce((Y,G)=>typeof G.amount=="number"?Y+G.amount:Y,0),S=g[0]?.unit||"";return`${B} ${S}`}else{const g=x.data.mainY[A];return`${g.amount} ${g.unit}`}};return a.jsx(a.Fragment,{children:e.map(({x:A,y:x},g)=>{if(A!==null&&x!==null){const B=C({y:x,hasXAxis:d,viewBoxHeight:s}),S=_({viewBoxWidth:r,xCoordinate:i}),Y=o?o(u.data.mainY[g].amount?.toString()??"",u.data.mainY[g].unit?.toString()??""):null;return a.jsxs("g",{children:[l&&a.jsx(V,{x:A,y:x,label:L({index:g,series:u}),textColor:v.DEFAULT_BAR_COLOR}),f?a.jsx(k,{stackBarData:u.data.mainY[g],barMiddleX:A,barTopY:x,height:B,width:S,radius:y,activeTooltip:m,tooltipContent:o}):a.jsx(D,{barMiddleX:A,barTopY:x,height:B,width:S,radius:y,hasGradient:n,bgColor:t,activeTooltip:m,tooltipContentText:Y,isActive:p===g,barColorChangeOnHover:b})]},u.data.mainX[g].amount)}})})};W.__docgenInfo={description:"",methods:[],displayName:"BarSeries",props:{coordinate:{required:!0,tsType:{name:"Array",elements:[{name:"Coordinate"}],raw:"Coordinate[]"},description:""},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"BAR_CHART.DEFAULT_BAR_COLOR",computed:!0}},hasGradient:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},gradientId:{required:!1,tsType:{name:"string"},description:""},series:{required:!0,tsType:{name:"AllBarChartSeries"},description:""},activeTooltip:{required:!0,tsType:{name:"boolean"},description:""},hasBarLabel:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},viewBoxHeight:{required:!0,tsType:{name:"number"},description:""},viewBoxWidth:{required:!0,tsType:{name:"number"},description:""},hasXAxis:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},tooltipContent:{required:!1,tsType:{name:"signature",type:"function",raw:"(...args: string[]) => string",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"args",rest:!0}],return:{name:"string"}}},description:""},xCoordinate:{required:!0,tsType:{name:"Array",elements:[{name:"Coordinate"}],raw:"Coordinate[]"},description:""},activeDataIndex:{required:!1,tsType:{name:"number"},description:""},barColorChangeOnHover:{required:!1,tsType:{name:"boolean"},description:""}}};const R=({viewBoxWidth:e,viewBoxHeight:t,hasXAxis:n=!1,hasBarGradient:u=!1,showXGuideLine:l=!1,showYGuideLine:d=!1,barChartSeries:s,yGuideLineCount:r,activeTooltip:i=!1,tooltipContent:o=(...f)=>f.join(" "),chartTitle:m,chartDescription:p,hasBarLabel:b=!0,xAxisType:c,activeDataIndex:T,barColorChangeOnHover:y=!0})=>{const{titleId:f,descId:C}=de(),{svgWidth:_,adjustedHeight:L,xLabelList:A,xCoordinate:x,primaryCoordinate:g,svgRef:B,xAxisRef:S}=me({viewBoxWidth:e,viewBoxHeight:t,barChartSeries:s,hasXAxis:n});return a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${t}`,ref:B,width:e,height:t,role:"graphics-document","aria-labelledby":f,"aria-describedby":C,children:[a.jsxs("g",{children:[a.jsx("title",{id:f,children:m}),a.jsx("desc",{id:C,children:p})]}),d&&a.jsx(ae,{svgWidth:_,adjustedHeight:L,yGuideLineCount:r}),l&&a.jsx(ne,{xCoordinate:x,adjustedHeight:L}),n&&a.jsxs(a.Fragment,{children:[a.jsx(re,{viewBoxWidth:e,viewBoxHeight:t,axisType:c,ref:S}),a.jsx(ie,{xLabelList:A,xCoordinate:x,viewBoxHeight:t})]}),a.jsx(W,{coordinate:g,hasGradient:u,series:s,activeTooltip:i,viewBoxHeight:t,viewBoxWidth:e,tooltipContent:o,xCoordinate:x,hasXAxis:n,hasBarLabel:b,activeDataIndex:T,barColorChangeOnHover:y})]})};R.__docgenInfo={description:"",methods:[],displayName:"BarChart",props:{viewBoxWidth:{required:!0,tsType:{name:"number"},description:"막대 차트의 너비"},viewBoxHeight:{required:!0,tsType:{name:"number"},description:"막대 차트의 높이"},hasXAxis:{required:!1,tsType:{name:"boolean"},description:"X축과 X축 레이블 표시 여부",defaultValue:{value:"false",computed:!1}},hasBarGradient:{required:!1,tsType:{name:"boolean"},description:"막대의 그라데이션 표시 여부",defaultValue:{value:"false",computed:!1}},showXGuideLine:{required:!1,tsType:{name:"boolean"},description:"X축 가이드 라인 표시 여부 (X축과 수직으로 표시되는 점선, 개수는 x축 데이터와 동일)",defaultValue:{value:"false",computed:!1}},showYGuideLine:{required:!1,tsType:{name:"boolean"},description:"Y축 가이드 라인 표시 여부 (Y축과 수평으로 표시되는 점선)",defaultValue:{value:"false",computed:!1}},yGuideLineCount:{required:!0,tsType:{name:"number"},description:"Y축 가이드 라인 개수 (Y축과 수평으로 표시되는 점선의 개수)"},barChartSeries:{required:!0,tsType:{name:"AllBarChartSeries"},description:"막대 차트 첫 번쩨 데이터 (실시간 데이터 or 단일 데이터) - 차트의 색상은 primarySeries의 color 속성에 따라 자동으로 설정됨"},activeTooltip:{required:!1,tsType:{name:"boolean"},description:"각 데이터의 툴팁 표시 여부",defaultValue:{value:"false",computed:!1}},tooltipContent:{required:!1,tsType:{name:"signature",type:"function",raw:"(...args: string[]) => string",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"args",rest:!0}],return:{name:"string"}}},description:"각 데이터의 툴팁 내용 표시 함수 (실시간 데이터와 평균 데이터의 값을 받아 표시 ex: (mainY, subY) => {mainY} {subY}))",defaultValue:{value:"(...args: string[]) => args.join(' ')",computed:!1}},chartTitle:{required:!1,tsType:{name:"string"},description:"막대 차트 제목 (title 태그 내용: 스크린 리더 접근성 시 사용)"},chartDescription:{required:!1,tsType:{name:"string"},description:"막대 차트 설명 (desc 태그 내용: 스크린 리더 접근성 시 사용)"},xAxisType:{required:!0,tsType:{name:"XAxisType"},description:"X축 타입 (일반, 양쪽 세로선, 오른쪽 화살표)"},hasBarLabel:{required:!1,tsType:{name:"boolean"},description:"각 막대 위에 레이블 표시 여부",defaultValue:{value:"true",computed:!1}},activeDataIndex:{required:!1,tsType:{name:"number"},description:"현재 포커스된 데이터의 인덱스"},barColorChangeOnHover:{required:!1,tsType:{name:"boolean"},description:"바 호버 시 색상 변경할 건지",defaultValue:{value:"true",computed:!1}}}};const Re={title:"components/shared/bar-chart/BarChart",component:R,tags:["autodocs"],parameters:{layout:"centered"},argTypes:{viewBoxWidth:{control:"number"},viewBoxHeight:{control:"number"},hasXAxis:{control:"boolean"},hasBarGradient:{control:"boolean"},showXGuideLine:{control:"boolean"},showYGuideLine:{control:"boolean"},yGuideLineCount:{control:"number"},barChartSeries:{control:"object"},activeTooltip:{control:"boolean"},tooltipContent:{disable:!0},chartTitle:{control:"text"},chartDescription:{control:"text"}}},q={args:{viewBoxWidth:1e3,viewBoxHeight:156,hasXAxis:!0,hasBarGradient:!0,showXGuideLine:!0,showYGuideLine:!0,yGuideLineCount:4,barChartSeries:U,activeTooltip:!0,tooltipContent:(e,t)=>`${e} (${t})`,chartTitle:"일별 매출 꺾은선 차트",chartDescription:"일별 매출 꺾은선 차트 설명",xAxisType:"right-arrow",activeDataIndex:3,barColorChangeOnHover:!0},render:e=>a.jsx(N,{children:a.jsx("div",{style:{width:`${e.viewBoxWidth}px`,height:`${e.viewBoxHeight}px`},children:a.jsx(R,{...e})})})},j={args:{viewBoxWidth:1e3,viewBoxHeight:250,hasXAxis:!0,hasBarGradient:!0,showXGuideLine:!0,showYGuideLine:!0,yGuideLineCount:4,barChartSeries:le,activeTooltip:!0,chartTitle:"일별 매출 꺾은선 차트",chartDescription:"일별 매출 꺾은선 차트 설명",xAxisType:"right-arrow",activeDataIndex:3,barColorChangeOnHover:!0},render:e=>a.jsx(N,{children:a.jsx("div",{style:{width:`${e.viewBoxWidth}px`,height:`${e.viewBoxHeight}px`},children:a.jsx(R,{...e})})})},he=e=>{const[t,n]=h.useState(e.barChartSeries),[u,l]=h.useState(e.barChartSeries.data.mainX.length-1),d=()=>{let i=t.data.mainY.filter(o=>o.amount!==null).length-1;i<0&&(i=0),l(i),n(o=>{const m=[...o.data.mainY],p=m[i].amount??0;return m[i]={...m[i],amount:+p+Math.floor(Math.random()*10),unit:"건"},{...o,data:{...o.data,mainY:m}}})},s=()=>{const i=t.data.mainY.filter(o=>o.amount!==null).length;l(i),n(o=>({...o,data:{...o.data,mainX:[...o.data.mainX.slice(0,i),{amount:`${i*2}:00`,unit:""},...o.data.mainX.slice(i+1)],mainY:[...o.data.mainY.slice(0,i),{amount:0,unit:"건"},...o.data.mainY.slice(i+1)]}}))},r=()=>{n(P)};return a.jsx(N,{children:a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsx("div",{style:{width:`${e.viewBoxWidth}px`,height:`${e.viewBoxHeight}px`},children:a.jsx(R,{...e,barChartSeries:t,activeDataIndex:u})}),a.jsx(w,{onClick:d,variant:"outline",size:"sm",className:"w-fit",children:"실시간 업데이트"}),a.jsx(w,{onClick:s,variant:"outline",size:"sm",className:"w-fit",children:"다음 시간 축 추가"}),a.jsx(w,{onClick:r,variant:"outline",size:"sm",className:"w-fit",children:"초기화"})]})})},fe=e=>{const[t,n]=h.useState(e.barChartSeries),u=()=>{const s=t.data.mainY.filter(i=>i&&i.length>0).length-1,r=Math.max(0,s);n(i=>{const o=[...i.data.mainY];(!o[r]||o[r].length===0)&&(o[r]=[]);const m=o[r].map(c=>({...c})),p=Math.floor(Math.random()*m.length),b=Number(m[p].amount??0);return m[p].amount=b+Math.floor(Math.random()*10),m[p].unit="건",o[r]=m,{...i,data:{...i.data,mainY:o}}})},l=()=>{const s=t.data.mainY.filter(r=>r&&r.length>0).length;n(r=>({...r,data:{...r.data,mainX:[...r.data.mainX.slice(0,s),{amount:`${s*2}:00`,unit:""},...r.data.mainX.slice(s+1)],mainY:[...r.data.mainY.slice(0,s),[{amount:45,unit:"건",label:"아메리카노"}],...r.data.mainY.slice(s+1)]}}))},d=()=>{n(H)};return a.jsx(N,{children:a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsx("div",{style:{width:`${e.viewBoxWidth}px`,height:`${e.viewBoxHeight}px`},children:a.jsx(R,{...e,barChartSeries:t})}),a.jsx(w,{onClick:u,variant:"outline",size:"sm",className:"w-fit",children:"실시간 업데이트"}),a.jsx(w,{onClick:l,variant:"outline",size:"sm",className:"w-fit",children:"다음 시간 축 추가"}),a.jsx(w,{onClick:d,variant:"outline",size:"sm",className:"w-fit",children:"초기화"})]})})},O={args:{viewBoxWidth:1020,viewBoxHeight:156,hasXAxis:!0,hasBarGradient:!0,showXGuideLine:!0,showYGuideLine:!0,barChartSeries:F,activeTooltip:!0,tooltipContent:(e,t)=>`${e} (${t})`,yGuideLineCount:4,xAxisType:"right-arrow"},render:e=>a.jsx(he,{...e})},X={args:{viewBoxWidth:1020,viewBoxHeight:300,hasXAxis:!0,hasBarGradient:!0,showXGuideLine:!0,showYGuideLine:!0,barChartSeries:H,activeTooltip:!0,yGuideLineCount:4,xAxisType:"right-arrow"},render:e=>a.jsx(fe,{...e})};q.parameters={...q.parameters,docs:{...q.parameters?.docs,source:{originalSource:`{
  args: {
    viewBoxWidth: 1000,
    viewBoxHeight: 156,
    hasXAxis: true,
    hasBarGradient: true,
    showXGuideLine: true,
    showYGuideLine: true,
    yGuideLineCount: 4,
    barChartSeries: WEEKLY_DATA,
    activeTooltip: true,
    tooltipContent: (mainY, subY) => \`\${mainY} (\${subY})\`,
    chartTitle: '일별 매출 꺾은선 차트',
    chartDescription: '일별 매출 꺾은선 차트 설명',
    xAxisType: 'right-arrow',
    activeDataIndex: 3,
    barColorChangeOnHover: true
  },
  render: args => <TooltipProvider>
      <div style={{
      width: \`\${args.viewBoxWidth}px\`,
      height: \`\${args.viewBoxHeight}px\`
    }}>
        <BarChart {...args} />
      </div>
    </TooltipProvider>
}`,...q.parameters?.docs?.source}}};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  args: {
    viewBoxWidth: 1000,
    viewBoxHeight: 250,
    hasXAxis: true,
    hasBarGradient: true,
    showXGuideLine: true,
    showYGuideLine: true,
    yGuideLineCount: 4,
    barChartSeries: STACK_BAR,
    activeTooltip: true,
    chartTitle: '일별 매출 꺾은선 차트',
    chartDescription: '일별 매출 꺾은선 차트 설명',
    xAxisType: 'right-arrow',
    activeDataIndex: 3,
    barColorChangeOnHover: true
  },
  render: args => <TooltipProvider>
      <div style={{
      width: \`\${args.viewBoxWidth}px\`,
      height: \`\${args.viewBoxHeight}px\`
    }}>
        <BarChart {...args} />
      </div>
    </TooltipProvider>
}`,...j.parameters?.docs?.source}}};O.parameters={...O.parameters,docs:{...O.parameters?.docs,source:{originalSource:`{
  args: {
    viewBoxWidth: 1020,
    viewBoxHeight: 156,
    hasXAxis: true,
    hasBarGradient: true,
    showXGuideLine: true,
    showYGuideLine: true,
    barChartSeries: SECONDARY_SERIES_MOCK,
    //secondarySeries: SECONDARY_SERIES_MOCK,
    activeTooltip: true,
    tooltipContent: (mainY, subY) => \`\${mainY} (\${subY})\`,
    yGuideLineCount: 4,
    xAxisType: 'right-arrow'
  },
  render: args => <RealtimeBarChart {...args} />
}`,...O.parameters?.docs?.source}}};X.parameters={...X.parameters,docs:{...X.parameters?.docs,source:{originalSource:`{
  args: {
    viewBoxWidth: 1020,
    viewBoxHeight: 300,
    hasXAxis: true,
    hasBarGradient: true,
    showXGuideLine: true,
    showYGuideLine: true,
    barChartSeries: STACK_BAR_HOURLY,
    //secondarySeries: SECONDARY_SERIES_MOCK,
    activeTooltip: true,
    yGuideLineCount: 4,
    xAxisType: 'right-arrow'
  },
  render: args => <RealtimeStackBarChart {...args} />
}`,...X.parameters?.docs?.source}}};const _e=["Default","StackBar","Realtime","RealtimeStackBar"];export{q as Default,O as Realtime,X as RealtimeStackBar,j as StackBar,_e as __namedExportsOrder,Re as default};
