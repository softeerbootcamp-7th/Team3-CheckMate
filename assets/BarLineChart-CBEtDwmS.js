import{j as t}from"./jsx-runtime-u17CrQMm.js";import{r as d}from"./iframe-CbgnqsfJ.js";import"./periods-BlCP1VCB.js";import{g as N,a as X,Y as C,X as $,b as V,c as E}from"./YGuideLine-B6Z0O3Q6.js";import{D,a as W,b as k}from"./LineChart-Co5RGDUI.js";import{g as P,a as M,b as I,c as v}from"./BarChart-uj3w7VO9.js";import{e as O,f as U,g as w}from"./index-k9anEJIQ.js";const A=r=>{const n=r.filter(a=>a.amount!==null).map(a=>Number(a.amount??0)),e=n.length>0?Math.max(...n):10;return Math.ceil(Math.ceil(e*1.5)/10)*10},z=()=>{const r=d.useId(),n=d.useId(),e=d.useId();return{titleId:r,descId:n,lineGradientId:e}},F=({viewBoxWidth:r,viewBoxHeight:n,barLineChartSeries:e,hasXAxis:s=!1})=>{const[a,o]=d.useState(n),p=d.useRef(null),u=d.useRef(null),m=d.useMemo(()=>e.data.mainX.map(h=>h.amount??""),[e.data.mainX]),i=d.useMemo(()=>e.data.mainX.length===0?[]:N({svgWidth:r,xDataLength:e.data.mainX.length}),[r,e.data.mainX.length]),g=d.useMemo(()=>A(e.data.mainY),[e.data.mainY]),y=d.useMemo(()=>e.data.mainY.length===0?[]:X({svgWidth:r,adjustedHeight:a,xDataLength:e.data.mainX.length,yData:e.data.mainY,maximumY:g}),[r,a,e,g]),l=d.useMemo(()=>A(e.data.subY),[e.data.subY]),f=d.useMemo(()=>e.data.subY.length===0?[]:X({svgWidth:r,adjustedHeight:a,xDataLength:e.data.mainX.length,yData:e.data.subY,maximumY:l}),[r,a,e,l]);return d.useLayoutEffect(()=>{(()=>{if(!s||!u.current){o(n);return}const T=u.current.getBBox();o(T.y+T.height/2)})()},[s,n]),{svgRef:p,xAxisRef:u,svgWidth:r,adjustedHeight:a,xLabelList:m,xCoordinate:i,barCoordinate:y,lineCoordinate:f}},Z=({barX:r,barY:n,lineY:e,hasXAxis:s,viewBoxHeight:a,viewBoxWidth:o,xCoordinate:p})=>{const u=M({y:n,hasXAxis:s,viewBoxHeight:a}),m=P({viewBoxWidth:o,xDataLength:p.length}),i=r,g=Math.min(n,e),y=m,l=M({y:Math.min(e,n),hasXAxis:s,viewBoxHeight:a}),f=g+l,h=i-y/2,T=i+y/2,q=`
  M ${i} ${g}
  H ${h}
  V ${f}
  H ${T}
  V ${g}
  Z
  `;return{barHeight:u,barWidth:m,interactionPathD:q}},_=({barX:r,barY:n,lineX:e,lineY:s,color:a,tooltipContentText:o,barWidth:p,barHeight:u,interactionPathD:m})=>t.jsxs("g",{children:[t.jsx("path",{d:m,fill:"transparent",stroke:"transparent"}),t.jsx(D,{x:e,y:s,color:a,ariaLabel:o,hasHoverEffect:!1}),t.jsx(I,{barMiddleX:r,barTopY:n,width:p,height:u,bgColor:a,radius:v.BAR_RADIUS,hasGradient:!0,barColorChangeOnHover:!1})]});_.__docgenInfo={description:"",methods:[],displayName:"BarLineSeries",props:{barX:{required:!0,tsType:{name:"number"},description:""},barY:{required:!0,tsType:{name:"number"},description:""},lineX:{required:!0,tsType:{name:"number"},description:""},lineY:{required:!0,tsType:{name:"number"},description:""},color:{required:!0,tsType:{name:"string"},description:""},tooltipContentText:{required:!0,tsType:{name:"string"},description:""},barWidth:{required:!0,tsType:{name:"number"},description:""},barHeight:{required:!0,tsType:{name:"number"},description:""},interactionPathD:{required:!0,tsType:{name:"string"},description:""}}};const R=({barX:r,barY:n,lineX:e,lineY:s,color:a,tooltipContentText:o,interactionPathD:p,barWidth:u,barHeight:m})=>t.jsxs(O,{children:[t.jsx(U,{asChild:!0,children:t.jsxs("g",{children:[t.jsx("path",{d:p,fill:"transparent",stroke:"transparent",className:"peer z-1",pointerEvents:"all"}),t.jsx(D,{x:e,y:s,color:a,ariaLabel:o,hasHoverEffect:!0,className:"peer-hover:brightness-75 peer-hover:saturate-200"}),t.jsx(I,{barMiddleX:r,barTopY:n,width:u,height:m,bgColor:a,radius:v.BAR_RADIUS,hasGradient:!0,barColorChangeOnHover:!0,className:"peer-hover:[&_path]:fill-brand-main"})]})}),t.jsx(w,{side:"top",className:"transition-duration-200 bg-black px-250! text-gray-50 [&_svg]:-translate-y-1 [&_svg]:rotate-0 [&_svg]:text-black",children:t.jsx("p",{className:"text-grey-0 caption-medium-semibold",children:o})})]});R.__docgenInfo={description:"",methods:[],displayName:"BarLineSeriesWithTooltip",props:{barX:{required:!0,tsType:{name:"number"},description:""},barY:{required:!0,tsType:{name:"number"},description:""},lineX:{required:!0,tsType:{name:"number"},description:""},lineY:{required:!0,tsType:{name:"number"},description:""},color:{required:!0,tsType:{name:"string"},description:""},tooltipContentText:{required:!0,tsType:{name:"string"},description:""},interactionPathD:{required:!0,tsType:{name:"string"},description:""},barWidth:{required:!0,tsType:{name:"number"},description:""},barHeight:{required:!0,tsType:{name:"number"},description:""}}};const H=({barX:r,barY:n,lineX:e,lineY:s,color:a,tooltipContentText:o,hasXAxis:p,viewBoxHeight:u,viewBoxWidth:m,xCoordinate:i,activeTooltip:g})=>{const{barHeight:y,barWidth:l,interactionPathD:f}=Z({barX:r,barY:n,lineY:s,hasXAxis:p,viewBoxHeight:u,viewBoxWidth:m,xCoordinate:i});return g?t.jsx(R,{barX:r,barY:n,lineX:e,lineY:s,color:a,tooltipContentText:o,interactionPathD:f,barWidth:l,barHeight:y}):t.jsx(_,{barX:r,barY:n,lineX:e,lineY:s,color:a,tooltipContentText:o,barWidth:l,barHeight:y,interactionPathD:f})};H.__docgenInfo={description:"",methods:[],displayName:"BarLineSeriesRenderer",props:{barX:{required:!0,tsType:{name:"number"},description:""},barY:{required:!0,tsType:{name:"number"},description:""},lineX:{required:!0,tsType:{name:"number"},description:""},lineY:{required:!0,tsType:{name:"number"},description:""},color:{required:!0,tsType:{name:"string"},description:""},tooltipContentText:{required:!0,tsType:{name:"string"},description:""},hasXAxis:{required:!0,tsType:{name:"boolean"},description:""},viewBoxHeight:{required:!0,tsType:{name:"number"},description:""},viewBoxWidth:{required:!0,tsType:{name:"number"},description:""},xCoordinate:{required:!0,tsType:{name:"Array",elements:[{name:"Coordinate"}],raw:"Coordinate[]"},description:""},activeTooltip:{required:!0,tsType:{name:"boolean"},description:""}}};const J=({viewBoxWidth:r,viewBoxHeight:n,hasXAxis:e=!1,showXGuideLine:s=!1,showYGuideLine:a=!1,yGuideLineCount:o,activeTooltip:p=!1,tooltipContent:u=(...l)=>l.join(" "),xAxisType:m,barLineChartSeries:i,chartTitle:g,chartDescription:y})=>{const{titleId:l,descId:f,lineGradientId:h}=z(),{svgRef:T,xAxisRef:q,svgWidth:B,adjustedHeight:Y,xLabelList:G,xCoordinate:j,barCoordinate:x,lineCoordinate:b}=F({viewBoxWidth:r,viewBoxHeight:n,barLineChartSeries:i,hasXAxis:e}),L=Math.min(i.data.mainX.length,x.length,b.length);return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${r} ${n}`,ref:T,role:"graphics-document","aria-labelledby":l,"aria-describedby":f,children:[t.jsxs("g",{children:[t.jsx("title",{id:l,children:g}),t.jsx("desc",{id:f,children:y})]}),t.jsx(W,{lineGradientId:h}),a&&t.jsx(C,{svgWidth:B,adjustedHeight:Y,yGuideLineCount:o}),s&&t.jsx($,{xCoordinate:j,adjustedHeight:Y}),e&&t.jsxs(t.Fragment,{children:[t.jsx(V,{viewBoxWidth:r,viewBoxHeight:n,axisType:m,ref:q}),t.jsx(E,{xLabelList:G,xCoordinate:j,viewBoxHeight:n})]}),t.jsx(k,{coordinate:b,color:i.color,hasGradient:!1,gradientId:h}),Array.from({length:L}).map((K,c)=>x[c].y===null||b[c].y===null?null:t.jsx(H,{barX:x[c].x,barY:x[c].y??0,lineX:b[c].x,lineY:b[c].y??0,color:i.color,tooltipContentText:u(i.data.mainY[c].amount?.toString()??"",i.data.mainY[c].unit?.toString()??"",i.data.subY[c].amount?.toString()??"",i.data.subY[c].unit?.toString()??""),hasXAxis:e,viewBoxHeight:n,viewBoxWidth:r,xCoordinate:j,activeTooltip:p},c))]})};J.__docgenInfo={description:"",methods:[],displayName:"BarLineChart",props:{viewBoxWidth:{required:!0,tsType:{name:"number"},description:"바 라인 차트의 너비"},viewBoxHeight:{required:!0,tsType:{name:"number"},description:"바 라인 차트의 높이"},hasXAxis:{required:!1,tsType:{name:"boolean"},description:"X축과 X축 레이블 표시 여부",defaultValue:{value:"false",computed:!1}},showXGuideLine:{required:!1,tsType:{name:"boolean"},description:"X축 가이드 라인 표시 여부 (X축과 수직으로 표시되는 점선, 개수는 x축 데이터와 동일)",defaultValue:{value:"false",computed:!1}},showYGuideLine:{required:!1,tsType:{name:"boolean"},description:"Y축 가이드 라인 표시 여부 (Y축과 수평으로 표시되는 점선)",defaultValue:{value:"false",computed:!1}},yGuideLineCount:{required:!0,tsType:{name:"number"},description:"Y축 가이드 라인 개수 (Y축과 수평으로 표시되는 점선의 개수)"},activeTooltip:{required:!1,tsType:{name:"boolean"},description:"각 데이터의 툴팁 표시 여부",defaultValue:{value:"false",computed:!1}},tooltipContent:{required:!1,tsType:{name:"signature",type:"function",raw:"(...args: string[]) => string",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"args",rest:!0}],return:{name:"string"}}},description:"각 데이터의 툴팁 내용 표시 함수 (실시간 데이터와 평균 데이터의 값을 받아 표시 ex: (mainY, subY) => {mainY} {subY}))",defaultValue:{value:"(...args: string[]) => args.join(' ')",computed:!1}},xAxisType:{required:!0,tsType:{name:"XAxisType"},description:"X축 타입 (일반, 양쪽 세로선, 오른쪽 화살표)"},barLineChartSeries:{required:!0,tsType:{name:"BarLineChartSeries"},description:`바 라인 차트 첫 번쩨 데이터 (실시간 데이터 or 단일 데이터) - 차트의 색상은 primarySeries의 color 속성에 따라 자동으로 설정됨
mainX: 차트의 X축 데이터
subX: 차트의 X축 데이터 (sub)
mainY: 차트의 Y축 데이터 (bar)
subY: 차트의 Y축 데이터 (line)`},chartTitle:{required:!1,tsType:{name:"string"},description:"바 라인 차트의 제목"},chartDescription:{required:!1,tsType:{name:"string"},description:"바 라인 차트의 설명"}}};export{J as B};
