import{j as g}from"./jsx-runtime-u17CrQMm.js";import{C as et,S as $t}from"./SignInSidebar-BgyHH66L.js";import{S as Ht}from"./SignInMainSection-BZNGXsoi.js";import{c as $}from"./periods-BlCP1VCB.js";import{r as u}from"./iframe-CbgnqsfJ.js";import{a as Bt,B as Kt,S as Wt,b as zt,c as Vt,d as Gt}from"./index-k9anEJIQ.js";import{c as tt}from"./createLucideIcon-CjPdjF6Q.js";import{X as Jt}from"./DateRangePicker-qpSoTXtQ.js";import{t as U,n as C,u as Yt}from"./SectionHeader-UpHvSgMP.js";import{A as Xt}from"./SignInButton-BzKpPXuo.js";import{c as Zt}from"./index-C9cP_GGV.js";import"./DateRangeLabel-DHuJ9iaI.js";import"./RevenueCalendar-DT_8jW6n.js";import"./SectionTitle-BfAZ3e-e.js";import"./PeriodSelect-CfQ8fop5.js";import{O as Y}from"./OnboardingLayout-DhkRhNv6.js";import"./Input-D1ak2QC3.js";import"./DefaultCardWrapper-B2zfBHVP.js";import"./Spinner-DCO5UFvx.js";import"./RankBadge-CFA29fvu.js";import"./DoughnutChart-BgfzLZN0.js";import"./EditCardWrapper-BeVHP-9f.js";import"./ButtonGroup-lAtkvSEO.js";import"./LineChart-Co5RGDUI.js";import"./BarLineChart-CBEtDwmS.js";import"./FeatureCard-C_ACkN2b.js";import"./preload-helper-Cv0CY36J.js";import"./index-OgXc7E57.js";import"./index-Dk4-d7wc.js";import"./formatDate-1rURzjm4.js";import"./RefreshControl-D7q85DBc.js";import"./chevron-right-A1fORqgZ.js";import"./circle-check-DrWGCC1h.js";import"./rankingColors-YVpIGQhO.js";import"./YGuideLine-B6Z0O3Q6.js";import"./BarChart-uj3w7VO9.js";const er=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],tr=tt("arrow-up",er);const rr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],nr=tt("square",rr),ke={PRIVACY:"/privacy",TERMS:"/terms"};function S(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fe({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Re(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function rt(e,t,r="/"){return sr(e,t,r,!1)}function sr(e,t,r,n){let s=typeof t=="string"?Re(t):t,i=N(s.pathname||"/",r);if(i==null)return null;let a=nt(e);ir(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let h=yr(i);o=pr(a[l],h,n)}return o}function nt(e,t=[],r=[],n="",s=!1){let i=(a,o,l=s,h)=>{let c={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&l)return;S(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let d=j([n,c.relativePath]),f=r.concat(c);a.children&&a.children.length>0&&(S(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),nt(a.children,t,f,d,l)),!(a.path==null&&!a.index)&&t.push({path:d,score:dr(d,a.index),routesMeta:f})};return e.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))i(a,o);else for(let l of st(a.path))i(a,o,!0,l)}),t}function st(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=st(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function ir(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fr(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var ar=/^:[\w-]+$/,or=3,ur=2,lr=1,cr=10,hr=-2,Ae=e=>e==="*";function dr(e,t){let r=e.split("/"),n=r.length;return r.some(Ae)&&(n+=hr),t&&(n+=ur),r.filter(s=>!Ae(s)).reduce((s,i)=>s+(ar.test(i)?or:i===""?lr:cr),n)}function fr(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function pr(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],h=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=se({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},c),f=l.route;if(!d&&h&&r&&!n[n.length-1].route.index&&(d=se({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:j([i,d.pathname]),pathnameBase:wr(j([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=j([i,d.pathnameBase]))}return a}function se(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mr(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((h,{paramName:c,isOptional:d},f)=>{if(c==="*"){let v=o[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[f];return d&&!p?h[c]=void 0:h[c]=(p||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:e}}function mr(e,t=!1,r=!0){_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function yr(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function N(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var gr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function vr(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Re(e):e,i;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?i=Ne(r.substring(1),"/"):i=Ne(r,t)):i=t,{pathname:i,search:Rr(n),hash:xr(s)}}function Ne(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ce(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function br(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function it(e){let t=br(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function at(e,t,r,n=!1){let s;typeof e=="string"?s=Re(e):(s={...e},S(!s.pathname||!s.pathname.includes("?"),ce("?","pathname","search",s)),S(!s.pathname||!s.pathname.includes("#"),ce("#","pathname","hash",s)),S(!s.search||!s.search.includes("#"),ce("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?t[d]:"/"}let l=vr(s,o),h=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(h||c)&&(l.pathname+="/"),l}var j=e=>e.join("/").replace(/\/\/+/g,"/"),wr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rr=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xr=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Er=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Cr(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Sr(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ot=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ut(e,t){let r=e;if(typeof r!="string"||!gr.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,s=!1;if(ot)try{let i=new URL(window.location.href),a=r.startsWith("//")?new URL(i.protocol+r):new URL(r),o=N(a.pathname,t);a.origin===i.origin&&o!=null?r=o+a.search+a.hash:s=!0}catch{_(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lt=["POST","PUT","PATCH","DELETE"];new Set(lt);var Pr=["GET",...lt];new Set(Pr);var H=u.createContext(null);H.displayName="DataRouter";var oe=u.createContext(null);oe.displayName="DataRouterState";var Or=u.createContext(!1),ct=u.createContext({isTransitioning:!1});ct.displayName="ViewTransition";var Tr=u.createContext(new Map);Tr.displayName="Fetchers";var Ir=u.createContext(null);Ir.displayName="Await";var D=u.createContext(null);D.displayName="Navigation";var xe=u.createContext(null);xe.displayName="Location";var k=u.createContext({outlet:null,matches:[],isDataRoute:!1});k.displayName="Route";var Ee=u.createContext(null);Ee.displayName="RouteError";var ht="REACT_ROUTER_ERROR",Fr="REDIRECT",Mr="ROUTE_ERROR_RESPONSE";function Dr(e){if(e.startsWith(`${ht}:${Fr}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Lr(e){if(e.startsWith(`${ht}:${Mr}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Er(t.status,t.statusText,t.data)}catch{}}function jr(e,{relative:t}={}){S(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=u.useContext(D),{hash:s,pathname:i,search:a}=z(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:j([r,i])),n.createHref({pathname:o,search:a,hash:s})}function ue(){return u.useContext(xe)!=null}function Q(){return S(ue(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(xe).location}var dt="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ft(e){u.useContext(D).static||u.useLayoutEffect(e)}function _r(){let{isDataRoute:e}=u.useContext(k);return e?Vr():kr()}function kr(){S(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=u.useContext(H),{basename:t,navigator:r}=u.useContext(D),{matches:n}=u.useContext(k),{pathname:s}=Q(),i=JSON.stringify(it(n)),a=u.useRef(!1);return ft(()=>{a.current=!0}),u.useCallback((l,h={})=>{if(_(a.current,dt),!a.current)return;if(typeof l=="number"){r.go(l);return}let c=at(l,JSON.parse(i),s,h.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:j([t,c.pathname])),(h.replace?r.replace:r.push)(c,h.state,h)},[t,r,i,s,e])}u.createContext(null);function z(e,{relative:t}={}){let{matches:r}=u.useContext(k),{pathname:n}=Q(),s=JSON.stringify(it(r));return u.useMemo(()=>at(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function Ar(e,t,r,n,s){S(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=u.useContext(D),{matches:a}=u.useContext(k),o=a[a.length-1],l=o?o.params:{},h=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let y=d&&d.path||"";mt(h,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=Q(),p;p=f;let v=p.pathname||"/",m=v;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+v.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=rt(e,{pathname:m});return _(d||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),_(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$r(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:j([c,i.encodeLocation?i.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:j([c,i.encodeLocation?i.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),a,r,n,s)}function Nr(){let e=zr(),t=Cr(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=u.createElement(u.Fragment,null,u.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:i},"ErrorBoundary")," or"," ",u.createElement("code",{style:i},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),r?u.createElement("pre",{style:s},r):null,a)}var Ur=u.createElement(Nr,null),pt=class extends u.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=Lr(e.digest);r&&(e=r)}let t=e!==void 0?u.createElement(k.Provider,{value:this.props.routeContext},u.createElement(Ee.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?u.createElement(qr,{error:e},t):t}};pt.contextType=Or;var he=new WeakMap;function qr({children:e,error:t}){let{basename:r}=u.useContext(D);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=Dr(t.digest);if(n){let s=he.get(t);if(s)throw s;let i=ut(n.location,r);if(ot&&!he.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw he.set(t,a),a}return u.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function Qr({routeContext:e,match:t,children:r}){let n=u.useContext(H);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),u.createElement(k.Provider,{value:e},r)}function $r(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r?.errors;if(a!=null){let c=i.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);S(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:p}=r,v=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let h=r&&n?(c,d)=>{n(c,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Sr(r.matches),errorInfo:d})}:void 0;return i.reduceRight((c,d,f)=>{let p,v=!1,m=null,b=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||Ur,o&&(l<0&&f===0?(mt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):l===f&&(v=!0,b=d.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,f+1)),y=()=>{let R;return p?R=m:v?R=b:d.route.Component?R=u.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=c,u.createElement(Qr,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:r!=null},children:R})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?u.createElement(pt,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:h}):y()},null)}function Ce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hr(e){let t=u.useContext(H);return S(t,Ce(e)),t}function Br(e){let t=u.useContext(oe);return S(t,Ce(e)),t}function Kr(e){let t=u.useContext(k);return S(t,Ce(e)),t}function Se(e){let t=Kr(e),r=t.matches[t.matches.length-1];return S(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Wr(){return Se("useRouteId")}function zr(){let e=u.useContext(Ee),t=Br("useRouteError"),r=Se("useRouteError");return e!==void 0?e:t.errors?.[r]}function Vr(){let{router:e}=Hr("useNavigate"),t=Se("useNavigate"),r=u.useRef(!1);return ft(()=>{r.current=!0}),u.useCallback(async(s,i={})=>{_(r.current,dt),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Ue={};function mt(e,t,r){!t&&!Ue[e]&&(Ue[e]=!0,_(!1,r))}u.memo(Gr);function Gr({routes:e,future:t,state:r,onError:n}){return Ar(e,void 0,r,n,t)}var te="get",re="application/x-www-form-urlencoded";function le(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Jr(e){return le(e)&&e.tagName.toLowerCase()==="button"}function Yr(e){return le(e)&&e.tagName.toLowerCase()==="form"}function Xr(e){return le(e)&&e.tagName.toLowerCase()==="input"}function Zr(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function en(e,t){return e.button===0&&(!t||t==="_self")&&!Zr(e)}var X=null;function tn(){if(X===null)try{new FormData(document.createElement("form"),0),X=!1}catch{X=!0}return X}var rn=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function de(e){return e!=null&&!rn.has(e)?(_(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${re}"`),null):e}function nn(e,t){let r,n,s,i,a;if(Yr(e)){let o=e.getAttribute("action");n=o?N(o,t):null,r=e.getAttribute("method")||te,s=de(e.getAttribute("enctype"))||re,i=new FormData(e)}else if(Jr(e)||Xr(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?N(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||te,s=de(e.getAttribute("formenctype"))||de(o.getAttribute("enctype"))||re,i=new FormData(o,e),!tn()){let{name:h,type:c,value:d}=e;if(c==="image"){let f=h?`${h}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else h&&i.append(h,d)}}else{if(le(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=te,n=null,s=re,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sn(e,t,r,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:t&&N(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function an(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function on(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function un(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await an(i,r);return a.links?a.links():[]}return[]}));return dn(n.flat(1).filter(on).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qe(e,t,r,n,s,i){let a=(l,h)=>r[h]?l.route.id!==r[h].route.id:!0,o=(l,h)=>r[h].pathname!==l.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==l.params["*"];return i==="assets"?t.filter((l,h)=>a(l,h)||o(l,h)):i==="data"?t.filter((l,h)=>{let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(a(l,h)||o(l,h))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function ln(e,t,{includeHydrateFallback:r}={}){return cn(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function cn(e){return[...new Set(e)]}function hn(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function dn(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(hn(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function yt(){let e=u.useContext(H);return Pe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fn(){let e=u.useContext(oe);return Pe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Oe=u.createContext(void 0);Oe.displayName="FrameworkContext";function gt(){let e=u.useContext(Oe);return Pe(e,"You must render this element inside a <HydratedRouter> element"),e}function pn(e,t){let r=u.useContext(Oe),[n,s]=u.useState(!1),[i,a]=u.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:h,onMouseLeave:c,onTouchStart:d}=t,f=u.useRef(null);u.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let m=w=>{w.forEach(y=>{a(y.isIntersecting)})},b=new IntersectionObserver(m,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),u.useEffect(()=>{if(n){let m=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(m)}}},[n]);let p=()=>{s(!0)},v=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:B(o,p),onBlur:B(l,v),onMouseEnter:B(h,p),onMouseLeave:B(c,v),onTouchStart:B(d,p)}]:[!1,f,{}]}function B(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function mn({page:e,...t}){let{router:r}=yt(),n=u.useMemo(()=>rt(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?u.createElement(gn,{page:e,matches:n,...t}):null}function yn(e){let{manifest:t,routeModules:r}=gt(),[n,s]=u.useState([]);return u.useEffect(()=>{let i=!1;return un(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function gn({page:e,matches:t,...r}){let n=Q(),{future:s,manifest:i,routeModules:a}=gt(),{basename:o}=yt(),{loaderData:l,matches:h}=fn(),c=u.useMemo(()=>qe(e,t,h,i,n,"data"),[e,t,h,i,n]),d=u.useMemo(()=>qe(e,t,h,i,n,"assets"),[e,t,h,i,n]),f=u.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let m=new Set,b=!1;if(t.forEach(y=>{let R=i.routes[y.route.id];!R||!R.hasLoader||(!c.some(O=>O.route.id===y.route.id)&&y.route.id in l&&a[y.route.id]?.shouldRevalidate||R.hasClientLoader?b=!0:m.add(y.route.id))}),m.size===0)return[];let w=sn(e,o,s.unstable_trailingSlashAwareDataRequests,"data");return b&&m.size>0&&w.searchParams.set("_routes",t.filter(y=>m.has(y.route.id)).map(y=>y.route.id).join(",")),[w.pathname+w.search]},[o,s.unstable_trailingSlashAwareDataRequests,l,n,i,c,t,e,a]),p=u.useMemo(()=>ln(d,i),[d,i]),v=yn(d);return u.createElement(u.Fragment,null,f.map(m=>u.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),p.map(m=>u.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),v.map(({key:m,link:b})=>u.createElement("link",{key:m,nonce:r.nonce,...b,crossOrigin:b.crossOrigin??r.crossOrigin})))}function vn(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var bn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bn&&(window.__reactRouterVersion="7.13.0")}catch{}var vt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=u.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:h,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},v){let{basename:m,unstable_useTransitions:b}=u.useContext(D),w=typeof h=="string"&&vt.test(h),y=ut(h,m);h=y.to;let R=jr(h,{relative:s}),[O,x,M]=pn(n,p),P=xn(h,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:b});function E(L){t&&t(L),L.defaultPrevented||P(L)}let I=u.createElement("a",{...p,...M,href:y.absoluteURL||R,onClick:y.isExternal||i?t:E,ref:vn(v,x),target:l,"data-discover":!w&&r==="render"?"true":void 0});return O&&!w?u.createElement(u.Fragment,null,I,u.createElement(mn,{page:R})):I});ie.displayName="Link";var Te=u.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...h},c){let d=z(a,{relative:h.relative}),f=Q(),p=u.useContext(oe),{navigator:v,basename:m}=u.useContext(D),b=p!=null&&On(d)&&o===!0,w=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,y=f.pathname,R=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(y=y.toLowerCase(),R=R?R.toLowerCase():null,w=w.toLowerCase()),R&&m&&(R=N(R,m)||R);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let x=y===w||!s&&y.startsWith(w)&&y.charAt(O)==="/",M=R!=null&&(R===w||!s&&R.startsWith(w)&&R.charAt(w.length)==="/"),P={isActive:x,isPending:M,isTransitioning:b},E=x?t:void 0,I;typeof n=="function"?I=n(P):I=[n,x?"active":null,M?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(P):i;return u.createElement(ie,{...h,"aria-current":E,className:I,ref:c,style:L,to:a,viewTransition:o},typeof l=="function"?l(P):l)});Te.displayName="NavLink";var wn=u.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=te,action:o,onSubmit:l,relative:h,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},v)=>{let{unstable_useTransitions:m}=u.useContext(D),b=Sn(),w=Pn(o,{relative:h}),y=a.toLowerCase()==="get"?"get":"post",R=typeof o=="string"&&vt.test(o),O=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let M=x.nativeEvent.submitter,P=M?.getAttribute("formmethod")||a,E=()=>b(M||x.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:s,state:i,relative:h,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f});m&&r!==!1?u.startTransition(()=>E()):E()};return u.createElement("form",{ref:v,method:y,action:w,onSubmit:n?l:O,...p,"data-discover":!R&&e==="render"?"true":void 0})});wn.displayName="Form";function Rn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bt(e){let t=u.useContext(H);return S(t,Rn(e)),t}function xn(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let h=_r(),c=Q(),d=z(e,{relative:i});return u.useCallback(f=>{if(en(f,t)){f.preventDefault();let p=r!==void 0?r:fe(c)===fe(d),v=()=>h(e,{replace:p,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:o});l?u.startTransition(()=>v()):v()}},[c,h,d,r,n,t,e,s,i,a,o,l])}var En=0,Cn=()=>`__${String(++En)}__`;function Sn(){let{router:e}=bt("useSubmit"),{basename:t}=u.useContext(D),r=Wr(),n=e.fetch,s=e.navigate;return u.useCallback(async(i,a={})=>{let{action:o,method:l,encType:h,formData:c,body:d}=nn(i,t);if(a.navigate===!1){let f=a.fetcherKey||Cn();await n(f,r,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||l,formEncType:a.encType||h,flushSync:a.flushSync})}else await s(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||l,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,s,t,r])}function Pn(e,{relative:t}={}){let{basename:r}=u.useContext(D),n=u.useContext(k);S(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...z(e||".",{relative:t})},a=Q();if(e==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let c=o.toString();i.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:j([r,i.pathname])),fe(i)}function On(e,{relative:t}={}){let r=u.useContext(ct);S(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=bt("useViewTransitionState"),s=z(e,{relative:t});if(!r.isTransitioning)return!1;let i=N(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=N(r.nextLocation.pathname,n)||r.nextLocation.pathname;return se(s.pathname,a)!=null||se(s.pathname,i)!=null}var V=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},q=typeof window>"u"||"Deno"in globalThis;function T(){}function Tn(e,t){return typeof e=="function"?e(t):e}function pe(e){return typeof e=="number"&&e>=0&&e!==1/0}function wt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function A(e,t){return typeof e=="function"?e(t):e}function F(e,t){return typeof e=="function"?e(t):e}function Qe(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==Ie(a,t.options))return!1}else if(!W(t.queryKey,a))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function $e(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(K(t.options.mutationKey)!==K(i))return!1}else if(!W(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Ie(e,t){return(t?.queryKeyHashFn||K)(e)}function K(e){return JSON.stringify(e,(t,r)=>ye(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function W(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>W(e[r],t[r])):!1}var In=Object.prototype.hasOwnProperty;function Rt(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=He(e)&&He(t);if(!n&&!(ye(e)&&ye(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let h=0;for(let c=0;c<o;c++){const d=n?c:a[c],f=e[d],p=t[d];if(f===p){l[d]=f,(n?c<i:In.call(e,d))&&h++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){l[d]=p;continue}const v=Rt(f,p,r+1);l[d]=v,v===f&&h++}return i===o&&h===i?e:l}function me(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function He(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ye(e){if(!Be(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Be(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Be(e){return Object.prototype.toString.call(e)==="[object Object]"}function Fn(e){return new Promise(t=>{U.setTimeout(t,e)})}function ge(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Rt(e,t):t}function Mn(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Dn(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Fe=Symbol();function xt(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Fe?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Et(e,t){return typeof e=="function"?e(...t):!!e}function Ln(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var jn=class extends V{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!q&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Me=new jn;function ve(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var _n=class extends V{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!q&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},ae=new _n;function kn(e){return Math.min(1e3*2**e,3e4)}function Ct(e){return(e??"online")==="online"?ae.isOnline():!0}var be=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function St(e){let t=!1,r=0,n;const s=ve(),i=()=>s.status!=="pending",a=m=>{if(!i()){const b=new be(m);f(b),e.onCancel?.(b)}},o=()=>{t=!0},l=()=>{t=!1},h=()=>Me.isFocused()&&(e.networkMode==="always"||ae.isOnline())&&e.canRun(),c=()=>Ct(e.networkMode)&&e.canRun(),d=m=>{i()||(n?.(),s.resolve(m))},f=m=>{i()||(n?.(),s.reject(m))},p=()=>new Promise(m=>{n=b=>{(i()||h())&&m(b)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),v=()=>{if(i())return;let m;const b=r===0?e.initialPromise:void 0;try{m=b??e.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(d).catch(w=>{if(i())return;const y=e.retry??(q?0:3),R=e.retryDelay??kn,O=typeof R=="function"?R(r,w):R,x=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,w);if(t||!x){f(w);return}r++,e.onFail?.(r,w),Fn(O).then(()=>h()?void 0:p()).then(()=>{t?f(w):v()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n?.(),s),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?v():p().then(v),s)}}var Pt=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pe(this.gcTime)&&(this.#t=U.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(q?1/0:300*1e3))}clearGcTimeout(){this.#t&&(U.clearTimeout(this.#t),this.#t=void 0)}},An=class extends Pt{#t;#e;#r;#s;#n;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#r=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=We(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=We(this.options);t.data!==void 0&&(this.setState(Ke(t.data,t.dataUpdatedAt)),this.#t=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=ge(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(T).catch(T):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>F(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fe||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>A(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!wt(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},s=()=>{const o=xt(this.options,t),h=(()=>{const c={client:this.#s,queryKey:this.queryKey,meta:this.meta};return n(c),c})();return this.#a=!1,this.options.persister?this.options.persister(o,h,this):o(h)},a=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return n(o),o})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#n=St({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof be&&o.revert&&this.setState({...this.#e,fetchStatus:"idle"}),r.abort()},onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#n.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof be){if(o.silent)return this.#n.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Ot(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...Ke(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?n:void 0,n;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),C.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Ot(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ct(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ke(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function We(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Nn=class extends V{constructor(e,t){super(),this.options=t,this.#t=e,this.#i=null,this.#a=ve(),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#s=void 0;#n;#o;#a;#i;#m;#d;#f;#l;#c;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),ze(this.#e,this.options)?this.#h():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return we(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return we(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#R(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof F(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#e.setOptions(this.options),t._defaulted&&!me(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&Ve(this.#e,r,this.options,t)&&this.#h(),this.updateResult(),n&&(this.#e!==r||F(this.options.enabled,this.#e)!==F(t.enabled,this.#e)||A(this.options.staleTime,this.#e)!==A(t.staleTime,this.#e))&&this.#y();const s=this.#g();n&&(this.#e!==r||F(this.options.enabled,this.#e)!==F(t.enabled,this.#e)||s!==this.#u)&&this.#v(s)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return qn(this,r)&&(this.#s=r,this.#o=this.options,this.#n=this.#e.state),r}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#h({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(e){this.#x();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(T)),t}#y(){this.#w();const e=A(this.options.staleTime,this.#e);if(q||this.#s.isStale||!pe(e))return;const r=wt(this.#s.dataUpdatedAt,e)+1;this.#l=U.setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#R(),this.#u=e,!(q||F(this.options.enabled,this.#e)===!1||!pe(this.#u)||this.#u===0)&&(this.#c=U.setInterval(()=>{(this.options.refetchIntervalInBackground||Me.isFocused())&&this.#h()},this.#u))}#b(){this.#y(),this.#v(this.#g())}#w(){this.#l&&(U.clearTimeout(this.#l),this.#l=void 0)}#R(){this.#c&&(U.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const r=this.#e,n=this.options,s=this.#s,i=this.#n,a=this.#o,l=e!==r?e.state:this.#r,{state:h}=e;let c={...h},d=!1,f;if(t._optimisticResults){const E=this.hasListeners(),I=!E&&ze(e,t),L=E&&Ve(e,r,t,n);(I||L)&&(c={...c,...Ot(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:p,errorUpdatedAt:v,status:m}=c;f=c.data;let b=!1;if(t.placeholderData!==void 0&&f===void 0&&m==="pending"){let E;s?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(E=s.data,b=!0):E=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,E!==void 0&&(m="success",f=ge(s?.data,E,t),d=!0)}if(t.select&&f!==void 0&&!b)if(s&&f===i?.data&&t.select===this.#m)f=this.#d;else try{this.#m=t.select,f=t.select(f),f=ge(s?.data,f,t),this.#d=f,this.#i=null}catch(E){this.#i=E}this.#i&&(p=this.#i,f=this.#d,v=Date.now(),m="error");const w=c.fetchStatus==="fetching",y=m==="pending",R=m==="error",O=y&&w,x=f!==void 0,P={status:m,fetchStatus:c.fetchStatus,isPending:y,isSuccess:m==="success",isError:R,isInitialLoading:O,isLoading:O,data:f,dataUpdatedAt:c.dataUpdatedAt,error:p,errorUpdatedAt:v,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:R&&!x,isPaused:c.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:R&&x,isStale:De(e,t),refetch:this.refetch,promise:this.#a,isEnabled:F(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const E=P.data!==void 0,I=P.status==="error"&&!E,L=J=>{I?J.reject(P.error):E&&J.resolve(P.data)},_e=()=>{const J=this.#a=P.promise=ve();L(J)},G=this.#a;switch(G.status){case"pending":e.queryHash===r.queryHash&&L(G);break;case"fulfilled":(I||P.data!==G.value)&&_e();break;case"rejected":(!I||P.error!==G.reason)&&_e();break}}return P}updateResult(){const e=this.#s,t=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#o=this.options,this.#n.data!==void 0&&(this.#f=this.#e),me(t,e))return;this.#s=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,s=typeof n=="function"?n():n;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(a=>{const o=a;return this.#s[o]!==e[o]&&i.has(o)})};this.#E({listeners:r()})}#x(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#E(e){C.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Un(e,t){return F(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ze(e,t){return Un(e,t)||e.state.data!==void 0&&we(e,t,t.refetchOnMount)}function we(e,t,r){if(F(t.enabled,e)!==!1&&A(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&De(e,t)}return!1}function Ve(e,t,r,n){return(e!==t||F(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&De(e,r)}function De(e,t){return F(t.enabled,e)!==!1&&e.isStaleByTime(A(t.staleTime,e))}function qn(e,t){return!me(e.getCurrentResult(),t)}function Ge(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const h=async()=>{let c=!1;const d=v=>{Ln(v,()=>t.signal,()=>c=!0)},f=xt(t.options,t.fetchOptions),p=async(v,m,b)=>{if(c)return Promise.reject();if(m==null&&v.pages.length)return Promise.resolve(v);const y=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:m,direction:b?"backward":"forward",meta:t.options.meta};return d(M),M})(),R=await f(y),{maxPages:O}=t.options,x=b?Dn:Mn;return{pages:x(v.pages,R,O),pageParams:x(v.pageParams,m,O)}};if(s&&i.length){const v=s==="backward",m=v?Qn:Je,b={pages:i,pageParams:a},w=m(n,b);o=await p(b,w,v)}else{const v=e??i.length;do{const m=l===0?a[0]??n.initialPageParam:Je(n,o);if(l>0&&m==null)break;o=await p(o,m),l++}while(l<v)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=h}}}function Je(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Qn(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var $n=class extends Pt{#t;#e;#r;#s;constructor(e){super(),this.#t=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#e=[],this.state=e.state||Hn(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=St({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#n({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",s=!this.#s.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:s}),this.#r.config.onMutate&&await this.#r.config.onMutate(e,this,r);const a=await this.options.onMutate?.(e,r);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:s})}const i=await this.#s.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{await this.#r.config.onError?.(i,e,this.state.context,this,r)}catch(a){Promise.reject(a)}try{await this.options.onError?.(i,e,this.state.context,r)}catch(a){Promise.reject(a)}try{await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,r)}catch(a){Promise.reject(a)}throw this.#n({type:"error",error:i}),i}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),C.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function Hn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bn=class extends V{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new $n({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=Z(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Z(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Z(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(s=>s.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Z(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){C.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>$e(t,r))}findAll(e={}){return this.getAll().filter(t=>$e(e,t))}notify(e){C.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return C.batch(()=>Promise.all(e.map(t=>t.continue().catch(T))))}};function Z(e){return e.options.scope?.id}var Kn=class extends V{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,s=t.queryHash??Ie(n,t);let i=this.get(s);return i||(i=new An({client:e,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){C.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Qe(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Qe(e,r)):t}notify(e){C.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){C.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){C.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wn=class{#t;#e;#r;#s;#n;#o;#a;#i;constructor(e={}){this.#t=e.queryCache||new Kn,this.#e=e.mutationCache||new Bn,this.#r=e.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Me.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=ae.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(A(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,a=Tn(t,i);if(a!==void 0)return this.#t.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return C.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;C.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return C.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=C.batch(()=>this.#t.findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(T).catch(T)}invalidateQueries(e,t={}){return C.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=C.batch(()=>this.#t.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(T)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(T)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(A(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(T).catch(T)}fetchInfiniteQuery(e){return e.behavior=Ge(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(T).catch(T)}ensureInfiniteQueryData(e){return e.behavior=Ge(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ae.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#s.set(K(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(n=>{W(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(K(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{W(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ie(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fe&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Tt=u.createContext(!1),zn=()=>u.useContext(Tt);Tt.Provider;function Vn(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Gn=u.createContext(Vn()),Jn=()=>u.useContext(Gn),Yn=(e,t,r)=>{const n=r?.state.error&&typeof e.throwOnError=="function"?Et(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},Xn=e=>{u.useEffect(()=>{e.clearReset()},[e])},Zn=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Et(r,[e.error,n])),es=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ts=(e,t)=>e.isLoading&&e.isFetching&&!t,rs=(e,t)=>e?.suspense&&t.isPending,Ye=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ns(e,t,r){const n=zn(),s=Jn(),i=Yt(),a=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",es(a),Yn(a,s,o),Xn(s);const l=!i.getQueryCache().get(a.queryHash),[h]=u.useState(()=>new t(i,a)),c=h.getOptimisticResult(a),d=!n&&e.subscribed!==!1;if(u.useSyncExternalStore(u.useCallback(f=>{const p=d?h.subscribe(C.batchCalls(f)):T;return h.updateResult(),p},[h,d]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),u.useEffect(()=>{h.setOptions(a)},[a,h]),rs(a,c))throw Ye(a,h,s);if(Zn({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw c.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!q&&ts(c,n)&&(l?Ye(a,h,s):o?.promise)?.catch(T).finally(()=>{h.updateResult()}),a.notifyOnChangeProps?c:h.trackResult(c)}function ss(e,t){return ns(e,Nn)}const It=()=>g.jsxs("section",{className:"flex size-full flex-col items-center justify-center gap-3",children:[g.jsxs("div",{className:"text-grey-700 body-medium-medium flex items-center gap-3",children:[g.jsx(ie,{to:ke.TERMS,target:"_blank",rel:"noopener noreferrer",children:"ì´ìš©ì•½ê´€"}),g.jsx("div",{className:"bg-grey-400 h-4 w-px"}),g.jsx(ie,{to:ke.PRIVACY,target:"_blank",rel:"noopener noreferrer",children:"ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨"})]}),g.jsx("p",{className:"body-medium-medium text-grey-500",children:"Copyright(C) CHECKMATE.ALL RIGHTS RESERVED."})]});It.__docgenInfo={description:"",methods:[],displayName:"SignInFooterSection"};const Ft=()=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("img",{src:`${et}/assets/images/ai_chat_loading.svg`,alt:"AI ë‹µë³€ ë¡œë”© ì•„ì´ì½˜",className:"size-6 animate-spin"}),g.jsx("span",{className:"body-small-medium text-grey-500",children:"ë‹µë³€ ìƒê° ì¤‘..."})]});Ft.__docgenInfo={description:"",methods:[],displayName:"BotLoading"};const Mt=({message:e,isLatest:t=!1,isLoading:r=!1,botBubbleRef:n})=>g.jsx("div",{ref:n,className:"body-small-medium text-grey-900 min-h-6 whitespace-pre-line",children:t&&r?g.jsx(Ft,{}):e});Mt.__docgenInfo={description:"",methods:[],displayName:"BotBubble",props:{message:{required:!0,tsType:{name:"string"},description:""},isLatest:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},botBubbleRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"RefObject<HTMLDivElement | null>"},description:""}}};const Le=u.memo(({message:e,userBubbleRef:t})=>g.jsx("div",{ref:t,className:"bg-grey-200 rounded-300 rounded-tr-0 w-fit max-w-[90%] self-end py-250 pr-400 pl-350",children:g.jsx("p",{className:"body-small-medium text-grey-900 whitespace-break-spaces",children:e})}));Le.displayName="UserBubble";Le.__docgenInfo={description:"",methods:[],displayName:"UserBubble",props:{message:{required:!0,tsType:{name:"string"},description:""},userBubbleRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"RefObject<HTMLDivElement | null>"},description:""}}};const Dt=({question:e,answer:t,isLatest:r=!1,isLoading:n,botBubbleRef:s,userBubbleRef:i})=>g.jsxs(g.Fragment,{children:[g.jsx(Le,{message:e,userBubbleRef:i}),g.jsx(Mt,{message:t,isLatest:r,isLoading:n,botBubbleRef:s})]});u.memo(Dt,(e,t)=>e.question===t.question&&e.answer===t.answer&&e.isLatest===t.isLatest&&e.isLoading===t.isLoading);Dt.__docgenInfo={description:"",methods:[],displayName:"ChatHistoryItemComponent",props:{question:{required:!0,tsType:{name:"string"},description:""},answer:{required:!0,tsType:{name:"string"},description:""},isLatest:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isLoading:{required:!0,tsType:{name:"boolean"},description:""},botBubbleRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"RefObject<HTMLDivElement | null>"},description:""},userBubbleRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"RefObject<HTMLDivElement | null>"},description:""}}};const Lt=({onQuestionSubmit:e,onQuestionCancel:t,isLoading:r})=>{const n=u.useRef(null),s=()=>{if(r){t();return}const a=n.current;if(!a)return;const o=a.value.trim()||"";a.value="",o&&e(o)},i=a=>{a.nativeEvent.isComposing||a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),r||s())};return g.jsxs("div",{className:"bg-grey-200 rounded-300 flex gap-300 px-400 py-300",children:[g.jsx(Bt,{id:"ai-chat",ref:n,placeholder:"ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”.",className:"peer placeholder:text-grey-500 text-grey-900 body-small-medium max-h-35 resize-none overflow-y-scroll border-none p-0 shadow-none focus-visible:ring-0 focus-visible:ring-offset-0",onKeyDown:i}),g.jsxs(Kt,{type:"submit",variant:"outline",size:"icon",onClick:s,className:$("bg-grey-300 peer-[:not(:placeholder-shown)]:bg-grey-900 size-7.5 rounded-full border-none p-0",r&&"bg-grey-900"),children:[g.jsx(tr,{className:$("peer-[:not(:placeholder-shown)]:text-grey-0 text-grey-500 size-5",r&&"opacity-0")}),g.jsx(nr,{className:$("fill-grey-0 absolute z-10 size-4 opacity-0",r&&"opacity-100")})]})]})},is=u.memo(Lt);is.displayName="ChatQuestionInput";Lt.__docgenInfo={description:"",methods:[],displayName:"ChatQuestionInputComponent",props:{onQuestionSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(question: string) => void",signature:{arguments:[{type:{name:"string"},name:"question"}],return:{name:"void"}}},description:""},onQuestionCancel:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isLoading:{required:!0,tsType:{name:"boolean"},description:""}}};const jt=u.memo(()=>g.jsxs(g.Fragment,{children:[g.jsx(Wt,{className:"sr-only",children:"AI mate ì±„íŒ…ì°½ì´ì—ìš”. ì§ˆë¬¸ì„ ìž…ë ¥í•˜ê±°ë‚˜ ì¶”ì²œ ì§ˆë¬¸ì„ ì„ íƒí•  ìˆ˜ ìžˆì–´ìš”."}),g.jsxs(zt,{className:"shrink-0 flex-row justify-between p-500",children:[g.jsx(Vt,{children:g.jsx("img",{src:`${et}/assets/images/ai_chat_row.svg`,alt:"AI mate ë¡œê³ ",className:"h-6 object-contain"})}),g.jsx(Gt,{className:"text-grey-600 size-6 cursor-pointer",children:g.jsx(Jt,{className:"size-6"})})]})]}));jt.displayName="ChatSheetHeader";jt.__docgenInfo={description:"",methods:[],displayName:"ChatSheetHeader"};new Wn({defaultOptions:{queries:{retry:1,throwOnError:!0}}});class je extends Error{success;status;errorCode;constructor(t,r,n){super(t),this.status=r,this.errorCode=n,this.success=!1}}const as=async e=>{let t;try{t=await e.json()}catch{t={success:!1,message:"Unknown error",errorCode:"UNKNOWN_ERROR"}}return new je(t.message,e.status,t.errorCode)},os=async()=>{const{data:e}=await ds.post("/auth/refresh");return e};class us{accessToken;isRefreshing=!1;retryQueue=[];constructor(){this.accessToken="",this.isRefreshing=!1,this.retryQueue=[]}get(){return this.accessToken}set(t){this.accessToken=t}async insert(t){if(this.accessToken){const r=new Headers(t.headers);return r.set("Authorization",`Bearer ${this.accessToken}`),new Request(t,{headers:r})}return t}async reissue(t,r){if(r.status===401){if(!this.isRefreshing){this.isRefreshing=!0;try{const{accessToken:n}=await os();this.set(n),this.retryQueue.forEach(async({request:i,resolve:a,reject:o})=>{const l=await this.insert(i.clone());fetch(l).then(h=>a(h)).catch(o)});const s=await this.insert(t.clone());return fetch(s)}catch{throw this.retryQueue.forEach(({reject:n})=>{n()}),new je("Unauthorized",401,"UNAUTHORIZED")}finally{this.isRefreshing=!1,this.retryQueue.length=0}}return new Promise((n,s)=>{this.retryQueue.push({request:t.clone(),response:r,resolve:n,reject:s})})}return r}remove(){this.accessToken=""}}const Xe=new us,Ze=async(e,t)=>(t&&(e=await t(e)),{...await e.json()}),ls=1e4,_t=({baseURL:e=Xt,timeout:t=ls,requestInterceptor:r,responseSuccessInterceptor:n,responseErrorInterceptor:s}={})=>async function({url:a,options:o={}}){const l=`${e}${a}`,h=new AbortController,c={...o,headers:{"Content-Type":"application/json",...o.headers},credentials:"include",signal:h.signal};let d=new Request(l,c);r&&(d=await r(d));const f=d.clone();let p,v;const m=fetch(d),b=new Promise((w,y)=>{v=setTimeout(()=>{h.abort(),y(new je("Request timeout",504,"TIMEOUT_ERROR"))},t)});if(p=await Promise.race([m,b]),v&&clearTimeout(v),!p.ok){if(s&&(p=await s(f,p)),p.ok)return await Ze(p,n);throw await as(p)}return await Ze(p,n)},cs=_t(),hs=_t({requestInterceptor:async e=>await Xe.insert(e),responseErrorInterceptor:async(e,t)=>await Xe.reissue(e,t)}),kt=e=>{const t=(r,n,s={})=>e({url:n,options:{...s,method:r}});return{get:(r,n={})=>t("GET",r,n),post:(r,n={})=>t("POST",r,n),put:(r,n={})=>t("PUT",r,n),patch:(r,n={})=>t("PATCH",r,n),delete:(r,n={})=>t("DELETE",r,n)}},ds=kt(cs),fs=kt(hs),ps=async()=>{const{data:e}=await fs.get("/api/notifications/unread-status");return e},ne={all:["notifications"],list:()=>[...ne.all,"list"],existsUnread:()=>[...ne.all,"list","exists-unread"],closingTime:()=>[...ne.all,"closing-time"]},ms={existsUnread:{queryKey:ne.existsUnread(),queryFn:ps}},ys=Zt("before:bg-brand-main relative before:absolute before:size-1.5 before:rounded-full",{variants:{position:{"top-left":"before:-top-px before:-translate-x-1","top-right":"before:-top-px before:right-0",right:"before:top-[50%] before:right-0 before:translate-x-2.5 before:translate-y-[-1.5px]"},show:{true:"",false:"before:opacity-0"}},defaultVariants:{position:"top-right",show:!1}}),At=({children:e,show:t=!1,position:r="top-right"})=>g.jsx("span",{className:$(ys({position:r,show:t})),children:e});At.__docgenInfo={description:"",methods:[],displayName:"Badge",props:{show:{defaultValue:{value:"false",computed:!1},required:!1},position:{defaultValue:{value:"'top-right'",computed:!1},required:!1}}};const Nt=({menuIcon:e})=>{const{data:t}=ss({...ms.existsUnread});return g.jsx(At,{show:t,position:"top-left",children:e})};Nt.__docgenInfo={description:"",methods:[],displayName:"DailyReportMenuItem",props:{menuIcon:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const Ut=({sub:e})=>g.jsx("li",{children:g.jsx(Te,{className:({isActive:t})=>$(t?"text-brand-main body-medium-bold!":"body-medium-medium! text-gray-400","flex h-10 w-full cursor-pointer items-center justify-start pl-9"),to:e.path,children:g.jsx("span",{children:e.name})})});Ut.__docgenInfo={description:"",methods:[],displayName:"SidebarSubmenuItem",props:{sub:{required:!0,tsType:{name:"SidebarOptionItem"},description:""}}};const qt=u.memo(({menu:e})=>g.jsxs("li",{children:[g.jsxs(Te,{className:({isActive:t})=>$(t?"text-brand-main body-medium-bold! bg-brand-20 [& > svg]:text-brand-400":"body-medium-medium! [& > svg]:text-grey-600 text-grey-600","rounded-150 [& > svg]:size-5.5 flex h-10 w-full cursor-pointer items-center justify-start gap-1.5 px-200"),to:e.path,children:[e.id==="DAILY_REPORT"?g.jsx(Nt,{menuIcon:e.Icon&&g.jsx(e.Icon,{})}):e.Icon&&g.jsx(e.Icon,{}),g.jsx("span",{className:"mt-0.5",children:e.name})]}),e.subMenus&&g.jsx("ul",{className:"flex flex-col",children:e.subMenus.map(t=>g.jsx(Ut,{sub:t},t.id))})]}));qt.displayName="SidebarMenuItem";qt.__docgenInfo={description:"",methods:[],displayName:"SidebarMenuItem",props:{menu:{required:!0,tsType:{name:"SidebarOptionItem"},description:""}}};u.createContext(null);const Qt=()=>g.jsxs(Y,{children:[g.jsx(Y.Sidebar,{children:g.jsx($t,{})}),g.jsx(Y.Main,{children:g.jsx(Ht,{})}),g.jsx(Y.Footer,{children:g.jsx(It,{})})]});Qt.__docgenInfo={description:"",methods:[],displayName:"SignInPage"};const Zs={component:Qt,parameters:{layout:"fullscreen"},tags:["autodocs"]},ee={decorators:[e=>g.jsx("div",{className:"h-screen w-screen",children:g.jsx(e,{})})]};ee.parameters={...ee.parameters,docs:{...ee.parameters?.docs,source:{originalSource:`{
  decorators: [Story => <div className="h-screen w-screen">
        <Story />
      </div>]
}`,...ee.parameters?.docs?.source}}};const ei=["Default"];export{ee as Default,ei as __namedExportsOrder,Zs as default};
